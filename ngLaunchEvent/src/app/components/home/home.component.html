<div class="container">

  <div *ngIf="!selected">
    <h1 class="display-3">Upcoming Launch Events</h1>
    <div id="aggregateData" class="display-6"></div>
    <hr>
    <h5 class="display-6">Create New Event</h5>
    <form>
      <label for="title" class="form-label"><strong>Title</strong></label>
      <input type='text' name='title' [(ngModel)]="newLaunchEvent.title" ngDefaultControl placeholder='Launch Event 1'
        class="form-control m-1" required />
      <label for="description" class="form-label"><strong>Description</strong></label>
      <input type='text' name='description' id="description" placeholder='Upcoming launch event.' class="form-control m-1"
        required />
      <label for="contactEmail" class="form-label"><strong>Contact Email</strong></label>
      <input type='text' name='contactEmail' id="contactEmail" placeholder='info@tokenize.com' class="form-control m-1"
        required />
      <label for="categories" class="form-label"><strong>Categories</strong></label>
      <input type='text' name='categories' id="categories" placeholder='Category' class="form-control m-1" />
      <label for="Blockchain" class="form-label"><strong>Blockchain</strong></label>
      <input type='text' name='blockchain' id="blockchain" placeholder='Blockchain' class="form-control m-1" />
      <label for="eventWebsite" class="form-label"><strong>Event Website</strong></label>
      <input type='text' name='eventWebsite' id="eventWebsite" placeholder='http://andycarypro.com'
        class="form-control m-1" />
      <button (click)="submitEvent()" class="btn btn-primary">Create Event</button>
    </form>
    <hr>
  </div>

  <div id="events" *ngIf="launchEvents && !selected">
    <h1 class="display-5">Launch Events</h1>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Contact Email</th>
          <th>Categories</th>
          <th>Blockchain</th>
          <th>Event Website</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let launchEvent of launchEvents" (click)="displayEvent(launchEvent)">
          <td>{{launchEvent.title}}</td>
          <td>{{launchEvent.description}}</td>
          <td>{{launchEvent.contactEmail}}</td>
          <td>{{launchEvent.categories}}</td>
          <td>{{launchEvent.blockchain}}</td>
          <td>{{launchEvent.eventWebsite}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="selected">
    <p class="display-3 my-2">{{selected.title}}</p>
    <small class="fw-semibold lh-lg">Event <span class="badge bg-primary">{{selected.id}}</span></small>
    <blockquote class="lh-lg">{{selected.description}}</blockquote>
    <p>Event Date: {{selected.eventDate}}</p>
    <p>Contact Email: {{selected.contactEmail}}</p>
    <p>Event Website: {{selected.eventWebsite}}</p>
    <p>Source Announcement: {{selected.sourceAnnouncement}}</p>
    <p>Blockchain: {{selected.blockchain}}</p>
    <p>Marketplace: <a href={{selected.marketplaceUrl}} target="_blank">{{selected.marketplace}}</a></p>
    <p>Project Twitter: {{selected.projectTwitter}}</p>
    <p>Project Discord: {{selected.projectDiscord}}</p>
    <button (click)="displayAll()" class="btn btn-secondary m-2">Back</button>
    <button (click)="setEditEvent(selected)" class="btn btn-info">Edit</button>
    <button (click)="deleteEvent(selected.id)" class="btn btn-danger m-2">Delete</button>
  </div>

  <div *ngIf="editEvent && selected">
    <hr>
    <h5 class="display-6">Edit Event</h5>
    <form>
        <label>Title </label>
        <input type="text" name="title" [(ngModel)]="editEvent.title" class="form-control" /><br>
        <label>Description </label>
        <input type="text" name="description" [(ngModel)]="editEvent.description" class="form-control" /><br>
        <label>Event Date </label>
        <input type="text" name="eventDate" [(ngModel)]="editEvent.eventDate" class="form-control" /><br>
        <label>Contact Email </label>
        <input type="text" name="contactEmail" [(ngModel)]="editEvent.contactEmail" class="form-control" /><br>
        <label>Event Website </label>
        <input type="text" name="eventWebsite" [(ngModel)]="editEvent.eventWebsite" class="form-control" /><br>
        <label>Source Announcement </label>
        <input type="text" name="sourceAnnouncement" [(ngModel)]="editEvent.sourceAnnouncement" class="form-control" /><br>
        <label>Blockchain </label>
        <input type="text" name="blockchain" [(ngModel)]="editEvent.blockchain" class="form-control" /><br>
        <label>Marketplace </label>
        <input type="text" name="marketplace" [(ngModel)]="editEvent.marketplace" class="form-control" /><br>
        <label>Project Twitter </label>
        <input type="text" name="projectTwitter" [(ngModel)]="editEvent.projectTwitter" class="form-control" /><br>
        <label>Project Discord </label>
        <input type="text" name="projectDiscord" [(ngModel)]="editEvent.projectDiscord" class="form-control" /><br>
        <button type="button" (click)="cancelEdit()" class="btn btn-danger m-2">Cancel</button>
        <button (click)="saveEdit(editEvent)" class="btn btn-success">Save</button>
    </form>
</div>
  <br>
</div>